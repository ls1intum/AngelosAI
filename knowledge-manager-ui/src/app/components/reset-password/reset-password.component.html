<div class="reset-password-container">
  <h3 class="reset-password-header">Neues Passwort setzen</h3>
  <form (ngSubmit)="onSubmit()" #resetForm="ngForm">
    <div class="form-group">
      <label for="password">Neues Passwort</label>
      <input
        type="password"
        id="password"
        name="password"
        [(ngModel)]="password"
        required
        #passwordInput="ngModel"
      />
      <div *ngIf="passwordInput.invalid && (passwordInput.dirty || passwordInput.touched)" class="error">
        Bitte ein Passwort eingeben.
      </div>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Passwort bestätigen</label>
      <input
        type="password"
        id="confirmPassword"
        name="confirmPassword"
        [(ngModel)]="confirmPassword"
        required
        #confirmPasswordInput="ngModel"
      />
      <div
        *ngIf="(confirmPasswordInput.dirty || confirmPasswordInput.touched) && password !== confirmPassword"
        class="error"
      >
        Die Passwörter stimmen nicht überein.
      </div>
    </div>
    <button *ngIf="!loading" type="submit" [disabled]="resetForm.invalid || password !== confirmPassword">
      Passwort setzen
    </button>
    <app-custom-dot-loader *ngIf="loading"></app-custom-dot-loader>
    <div *ngIf="successMessage" class="success">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
  </form>
  <div class="back-to-login">
    <a routerLink="/login" class="back-link">Zurück zum Login</a>
  </div>
</div>